# 🖥️ Giao Diện Forms - Phần Mềm Quản Lý Đối Tượng Thi Hành Án

## 📋 Tổng Quan Giao Diện

### **Thiết Kế UI/UX:**
- **Framework:** PyQt6 với Modern Design
- **Theme:** Material Design / Fluent Design
- **Color Scheme:** Professional Blue & Gray
- **Responsive:** Tương thích nhiều độ phân giải
- **Accessibility:** Hỗ trợ keyboard navigation

---

## 🔐 1. Form Đăng Nhập (Login Form)

### **File:** `ui/login.py`
### **Kích thước:** 400x300px
### **Vị trí:** Center screen
#### **Layout:**
```
┌─────────────────────────────────┐
│        🏛️ LOGO APP             │
│                                 │
│  ┌─────────────────────────────┐ │
│  │ 👤 Username:               │ │
│  │    [________________]       │ │
│  └─────────────────────────────┘ │
│                                 │
│  ┌─────────────────────────────┐ │
│  │ 🔒 Password:               │ │
│  │    [________________]       │ │
│  └─────────────────────────────┘ │
│                                 │
│  ┌─────────────────────────────┐ │
│  │        [ĐĂNG NHẬP]         │ │
│  └─────────────────────────────┘ │
│                                 │
│  ┌─────────────────────────────┐ │
│  │        [THOÁT]             │ │
│  └─────────────────────────────┘ │
└─────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Auto-focus:** Tự động focus vào username
- ✅ **Enter key:** Chuyển focus và đăng nhập
- ✅ **Validation:** Kiểm tra username/password
- ✅ **Error display:** Hiển thị lỗi đăng nhập
- ✅ **Remember me:** Lưu thông tin đăng nhập
- ✅ **Forgot password:** Link quên mật khẩu

#### **Validation Rules:**
- Username: Không được để trống
- Password: Tối thiểu 6 ký tự
- Default: admin/admin

---

## 🏠 2. Cửa Sổ Chính (Main Window)

### **File:** `ui/main_window.py`
### **Kích thước:** 1200x800px
### **Layout:** Split view với sidebar

#### **Layout:**
```
┌─────────────────────────────────────────────────────────┐
│ Header: Logo | App Name | User Info | Settings | Logout│
├─────────────────────────────────────────────────────────┤
│ Sidebar:     │ Main Content Area:                      │
│ ┌─────────┐  │ ┌─────────────────────────────────────┐ │
│ │ 📊 Dashboard    │ │                                 │ │
│ │ 👥 Đối Tượng   │ │                                 │ │
│ │ 📝 Nhập Liệu   │ │                                 │ │
│ │ 🔍 Tìm Kiếm   │ │                                 │ │
│ │ 📈 Báo Cáo     │ │                                 │ │
│ │ 🤖 AI Tools    │ │                                 │ │
│ │ ⚙️ Cài Đặt     │ │                                 │ │
│ └─────────┘  │ └─────────────────────────────────────┘ │
│              │                                         │
│              │                                         │
│              │                                         │
├─────────────────────────────────────────────────────────┤
│ Footer: Status | Notifications | Alerts | Time        │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Sidebar Navigation:** Menu chính
- ✅ **Breadcrumb:** Hiển thị vị trí hiện tại
- ✅ **Status Bar:** Thông tin trạng thái
- ✅ **Notifications:** Cảnh báo thông minh
- ✅ **User Menu:** Thông tin người dùng
- ✅ **Settings:** Cài đặt hệ thống

---

## 📝 3. Form Nhập Liệu Đối Tượng (Offender Form)

### **File:** `ui/offender_form.py`
### **Kích thước:** 800x600px
### **Layout:** Tabbed form với validation

#### **Layout Tab 1 - Thông Tin Cơ Bản:**
```
┌─────────────────────────────────────────────────────────┐
│ 📋 THÔNG TIN ĐỐI TƯỢNG THI HÀNH ÁN                    │
├─────────────────────────────────────────────────────────┤
│ [Thông tin cơ bản] [Thông tin án] [Tính toán]        │
├─────────────────────────────────────────────────────────┤
│ Số hồ sơ:        [40CE0625/405LF______________]       │
│ Họ và tên:       [Nguyễn Văn A________________]       │
│ Giới tính:       [○ Nam] [○ Nữ]                       │
│ Ngày sinh:       [📅 15/05/1990]                      │
│ Nơi cư trú:      [TDP 1, P. Bắc Hồng________]        │
│ Nghề nghiệp:     [Nông dân________________]           │
│ Tội danh:        [Trộm cắp tài sản________]           │
│ Loại án:         [▼ Án treo]                          │
├─────────────────────────────────────────────────────────┤
│                    [LƯU] [HỦY] [TIẾP THEO]            │
└─────────────────────────────────────────────────────────┘
```

#### **Layout Tab 2 - Thông Tin Án:**
```
┌─────────────────────────────────────────────────────────┐
│ 📋 THÔNG TIN ÁN                                       │
├─────────────────────────────────────────────────────────┤
│ Bản án:          [Số 15/2025/HS-ST, ngày 15/5/2025...]│
│ Quyết định THA:  [Số 15/2025/QĐ-CA, ngày 29/5/2025...]│
│ Ngày bắt đầu:    [📅 01/06/2025]                      │
│ Thời gian TT:    [06] tháng                           │
│ Được giảm:       [01] tháng                           │
│ Ngày được giảm:  [📅 02/09/2025]                      │
│ Số lần giảm:     [1] lần                              │
├─────────────────────────────────────────────────────────┤
│                    [QUAY LẠI] [LƯU] [TIẾP THEO]       │
└─────────────────────────────────────────────────────────┘
```

#### **Layout Tab 3 - Tính Toán Tự Động:**
```
┌─────────────────────────────────────────────────────────┐
│ 🧮 TÍNH TOÁN TỰ ĐỘNG                                  │
├─────────────────────────────────────────────────────────┤
│ Ngày chấp hành xong: [📅 01/11/2025] (Tự tính)       │
│ Trạng thái:           [🟢 Đang chấp hành]             │
│ Số ngày còn lại:      [45 ngày]                       │
│ Đủ điều kiện giảm:    [❌ Chưa đủ điều kiện]          │
│ Ngày giảm tiếp theo:  [📅 02/09/2026]                 │
├─────────────────────────────────────────────────────────┤
│ 🤖 AI DỰ ĐOÁN:                                        │
│ Nguy cơ vi phạm:      [🟡 Trung bình (45%)]           │
│ Yếu tố ảnh hưởng:     [Tuổi trẻ, Thất nghiệp]        │
├─────────────────────────────────────────────────────────┤
│                    [QUAY LẠI] [LƯU] [HOÀN THÀNH]      │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Tab Navigation:** Chuyển đổi giữa các tab
- ✅ **Auto-calculation:** Tính toán tự động
- ✅ **Real-time validation:** Kiểm tra dữ liệu real-time
- ✅ **Date picker:** Chọn ngày bằng calendar
- ✅ **AI integration:** Dự đoán nguy cơ
- ✅ **Auto-save:** Tự động lưu khi nhập
- ✅ **Keyboard navigation:** Tab/Enter để di chuyển

#### **Validation Rules:**
- Số hồ sơ: Format 40CE0625/405LF
- Ngày sinh: Không lớn hơn ngày hiện tại
- Thời gian thử thách: 1-60 tháng
- Các trường bắt buộc: Không được để trống

---

## 📋 4. Danh Sách Đối Tượng (Offender List)

### **File:** `ui/offender_list.py`
### **Kích thước:** 1200x600px
### **Layout:** Table với filters

#### **Layout:**
```
┌─────────────────────────────────────────────────────────┐
│ 📋 DANH SÁCH ĐỐI TƯỢNG THI HÀNH ÁN                    │
├─────────────────────────────────────────────────────────┤
│ 🔍 Tìm kiếm: [________________] [TÌM KIẾM] [LỌC]     │
├─────────────────────────────────────────────────────────┤
│ Lọc theo:                                              │
│ [Trạng thái: ▼ Tất cả] [Địa bàn: ▼ Tất cả] [Loại án: ▼ Tất cả]│
├─────────────────────────────────────────────────────────┤
│ [THÊM MỚI] [NHẬP EXCEL] [XUẤT EXCEL] [IN BÁO CÁO]    │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ Số HS │ Họ Tên │ Trạng Thái │ Ngày KT │ Nguy Cơ │ │
│ ├─────────────────────────────────────────────────────┤ │
│ │ 40CE..│ Ng.V.A │ 🟢 Đang    │ 01/11   │ 🟡 TB   │ │
│ │ 41CG..│ Tr.Th.B│ 🟠 Sắp KT  │ 05/11   │ 🔴 Cao  │ │
│ │ 40CE..│ Lê V.C │ 🔴 Vi phạm │ 15/10   │ 🔴 Cao  │ │
│ └─────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ Hiển thị 1-10 của 145 kết quả | [◀] [1] [2] [3] [▶]  │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Advanced search:** Tìm kiếm thông minh
- ✅ **Multi-filter:** Lọc theo nhiều tiêu chí
- ✅ **Sortable columns:** Sắp xếp theo cột
- ✅ **Bulk operations:** Thao tác hàng loạt
- ✅ **Context menu:** Menu chuột phải
- ✅ **Export options:** Xuất Excel/PDF
- ✅ **Pagination:** Phân trang
- ✅ **Status colors:** Màu sắc trạng thái

#### **Context Menu:**
- Xem chi tiết
- Chỉnh sửa
- Xóa
- In báo cáo
- Gửi cảnh báo

---

## 📊 5. Dashboard (Dashboard)

### **File:** `ui/dashboard.py`
### **Kích thước:** 1200x800px
### **Layout:** Grid với widgets

#### **Layout:**
```
┌─────────────────────────────────────────────────────────┐
│ 📊 DASHBOARD - TỔNG QUAN HỆ THỐNG                     │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │
│ │ 🟢 Đang THA │ │ 🟠 Sắp KT   │ │ 🔴 Vi phạm │       │
│ │    145      │ │     23      │ │     8       │       │
│ └─────────────┘ └─────────────┘ └─────────────┘       │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📈 BIỂU ĐỒ XU HƯỚNG                               │ │
│ │ [Line chart showing trends]                        │ │
│ └─────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────┐                       │
│ │ 🚨 CẢNH BÁO │ │ 🤖 AI INSIGHTS │                    │
│ │ • 5 đối tượng│ │ • Tăng 20% vi phạm│                │
│ │   sắp hết hạn│ │ • Cần giám sát    │                │
│ │ • 3 đủ điều │ │   khu vực A      │                │
│ │   kiện giảm │ │ • Dự báo 15 hoàn │                │
│ └─────────────┘ └─────────────┘                       │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📋 HOẠT ĐỘNG GẦN ĐÂY                               │ │
│ │ • 15/11: Thêm đối tượng Nguyễn Văn A              │ │
│ │ • 14/11: Cập nhật trạng thái 3 đối tượng          │ │
│ │ • 13/11: Xuất báo cáo tháng 11                    │ │
│ └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Real-time updates:** Cập nhật real-time
- ✅ **Interactive charts:** Biểu đồ tương tác
- ✅ **Quick actions:** Thao tác nhanh
- ✅ **Notifications:** Thông báo cảnh báo
- ✅ **AI insights:** Insights từ AI
- ✅ **Activity log:** Lịch sử hoạt động

---

## 🤖 6. AI Tools (AI Tools)

### **File:** `ui/ai_tools.py`
### **Kích thước:** 1000x700px
### **Layout:** Tabbed interface

#### **Layout Tab 1 - Dự Đoán Nguy Cơ:**
```
┌─────────────────────────────────────────────────────────┐
│ 🤖 AI TOOLS - DỰ ĐOÁN NGUY CƠ VI PHẠM                │
├─────────────────────────────────────────────────────────┤
│ Chọn đối tượng: [Dropdown với danh sách] [DỰ ĐOÁN]   │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📊 KẾT QUẢ DỰ ĐOÁN                                │ │
│ │ Nguy cơ: [🟡 Trung bình (45%)]                    │ │
│ │ Yếu tố ảnh hưởng:                                 │ │
│ │ • Tuổi trẻ (25%)                                  │ │
│ │ • Thất nghiệp (30%)                               │ │
│ │ • Lịch sử vi phạm (25%)                           │ │
│ │ Khuyến nghị: Tăng cường giám sát                  │ │
│ └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### **Layout Tab 2 - Chatbot Hỗ Trợ:**
```
┌─────────────────────────────────────────────────────────┐
│ 🤖 AI TOOLS - CHATBOT HỖ TRỢ PHÁP LÝ                 │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 💬 Chat History                                    │ │
│ │ Bot: Xin chào! Tôi có thể giúp gì cho bạn?        │ │
│ │ User: Điều kiện giảm án là gì?                    │ │
│ │ Bot: Theo quy định tại Điều 35...                  │ │
│ └─────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ [Nhập câu hỏi...] [GỬI] [🎤]                     │ │
│ └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### **Layout Tab 3 - Phân Tích Xu Hướng:**
```
┌─────────────────────────────────────────────────────────┐
│ 🤖 AI TOOLS - PHÂN TÍCH XU HƯỚNG                     │
├─────────────────────────────────────────────────────────┤
│ Thời gian: [Tháng] [Quý] [Năm] [PHÂN TÍCH]           │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📈 BIỂU ĐỒ XU HƯỚNG                               │ │
│ │ [Chart showing crime trends]                       │ │
│ └─────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📋 KẾT QUẢ PHÂN TÍCH                              │ │
│ │ • Khu vực tăng: Phường A, Xã B                    │ │
│ │ • Tội danh phổ biến: Trộm cắp, Gây thương tích   │ │
│ │ • Xu hướng: Tăng 15% so với tháng trước           │ │
│ └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Risk prediction:** Dự đoán nguy cơ
- ✅ **Legal chatbot:** Hỗ trợ pháp lý
- ✅ **Trend analysis:** Phân tích xu hướng
- ✅ **Voice input:** Nhập bằng giọng nói
- ✅ **Export results:** Xuất kết quả
- ✅ **History tracking:** Lưu lịch sử

---

## 📈 7. Báo Cáo (Reports)

### **File:** `ui/reports.py`
### **Kích thước:** 1000x700px
### **Layout:** Form với preview

#### **Layout:**
```
┌─────────────────────────────────────────────────────────┐
│ 📈 BÁO CÁO & THỐNG KÊ                                 │
├─────────────────────────────────────────────────────────┤
│ Loại báo cáo: [▼ Báo cáo tháng] [TẠO BÁO CÁO]       │
│ Thời gian: [Từ: 📅 01/11/2025] [Đến: 📅 30/11/2025] │
│ Địa bàn: [▼ Tất cả] [Loại án: ▼ Tất cả]             │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📊 PREVIEW BÁO CÁO                                │ │
│ │ [Report preview area]                              │ │
│ └─────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ [XUẤT PDF] [XUẤT EXCEL] [IN BÁO CÁO] [GỬI EMAIL]    │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **Report templates:** Mẫu báo cáo có sẵn
- ✅ **Custom filters:** Bộ lọc tùy chỉnh
- ✅ **Preview:** Xem trước báo cáo
- ✅ **Multiple formats:** PDF, Excel, Word
- ✅ **Email integration:** Gửi qua email
- ✅ **Scheduled reports:** Báo cáo định kỳ

---

## ⚙️ 8. Cài Đặt (Settings)

### **File:** `ui/settings.py`
### **Kích thước:** 600x500px
### **Layout:** Tabbed settings

#### **Layout:**
```
┌─────────────────────────────────────────────────────────┐
│ ⚙️ CÀI ĐẶT HỆ THỐNG                                   │
├─────────────────────────────────────────────────────────┤
│ [Chung] [Bảo mật] [Backup] [Giao diện] [AI]          │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 📋 CÀI ĐẶT CHUNG                                   │ │
│ │ Ngôn ngữ: [▼ Tiếng Việt]                           │ │
│ │ Theme: [▼ Light] [▼ Dark]                          │ │
│ │ Auto-save: [☑] Bật                                 │ │
│ │ Notifications: [☑] Bật                             │ │
│ │ Backup tự động: [☑] Bật                            │ │
│ └─────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ [LƯU] [HỦY] [KHÔI PHỤC MẶC ĐỊNH]                    │
└─────────────────────────────────────────────────────────┘
```

#### **Tính năng:**
- ✅ **General settings:** Cài đặt chung
- ✅ **Security settings:** Bảo mật
- ✅ **Backup settings:** Sao lưu
- ✅ **UI settings:** Giao diện
- ✅ **AI settings:** Cài đặt AI
- ✅ **Reset options:** Khôi phục mặc định

---

## 🎨 Color Scheme & Styling

### **Primary Colors:**
- **Primary Blue:** #1976D2
- **Secondary Gray:** #424242
- **Success Green:** #4CAF50
- **Warning Orange:** #FF9800
- **Error Red:** #F44336
- **Info Blue:** #2196F3

### **Status Colors:**
- **Đang chấp hành:** #4CAF50 (Green)
- **Sắp kết thúc:** #FF9800 (Orange)
- **Đã kết thúc:** #9E9E9E (Gray)
- **Vi phạm:** #F44336 (Red)

### **Risk Level Colors:**
- **Thấp:** #4CAF50 (Green)
- **Trung bình:** #FF9800 (Orange)
- **Cao:** #F44336 (Red)

---

## ⌨️ Keyboard Shortcuts

### **Global Shortcuts:**
- **Ctrl+N:** Thêm mới đối tượng
- **Ctrl+S:** Lưu
- **Ctrl+F:** Tìm kiếm
- **Ctrl+E:** Xuất Excel
- **Ctrl+P:** In báo cáo
- **F1:** Trợ giúp
- **F5:** Refresh
- **Esc:** Hủy/Thoát

### **Form Navigation:**
- **Tab:** Chuyển focus
- **Shift+Tab:** Chuyển focus ngược
- **Enter:** Xác nhận/Đăng nhập
- **Space:** Chọn checkbox/radio

---

## 📱 Responsive Design

### **Desktop (1200x800+):**
- Full layout với sidebar
- Multiple columns
- Hover effects

### **Laptop (1024x768):**
- Compact layout
- Collapsible sidebar
- Optimized spacing

### **Tablet (768x1024):**
- Single column layout
- Touch-friendly buttons
- Simplified navigation

---

**© 2024 Giao Diện Forms - Phần Mềm Quản Lý Đối Tượng Thi Hành Án** 
Tôi đang phát triển phần mềm bằng PyQt6 với giao diện bị lỗi layout, kích thước widget không đều, button phình to và style thiếu nhất quán. Hãy giúp tôi sửa theo các quy tắc sau:

1. ✅ Layout chuẩn:
- Thay tất cả .move(), .setGeometry() bằng layout (QVBoxLayout, QHBoxLayout, QGridLayout)
- Với mỗi layout: setContentsMargins(12, 12, 12, 12), setSpacing(10)
- Dùng addStretch hoặc setStretch để cân layout nếu có nhiều widget

2. ✅ Font-size & padding:
- Tất cả font-size nên là 13px
- QPushButton dùng padding: 6px 12px; min-height: 32px; max-height: 40px

3. ✅ Style QLineEdit, QComboBox:
- padding: 4px 8px; border-radius: 6px; border: 1px solid #ccc

4. ✅ Style hover + focus:
- QPushButton:hover có màu nền #dbe9f4
- QLineEdit:focus có border 1px solid #007ACC

5. ✅ QTabWidget:
- Tab có padding: 6px 12px; border 1px solid #ccc; tab:selected có màu trắng, bold

6. ✅ Giao diện nên gom toàn bộ style vào 1 file style.qss và gọi bằng app.setStyleSheet

7. ✅ AI nên sửa đồng loạt nếu gặp >3 lỗi giống nhau trong layout/style
thể.